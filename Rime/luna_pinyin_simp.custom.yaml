# encoding: utf-8

patch:
  # å·¦å³ Shift ä¸Šå±è‹±æ–‡
  ascii_composer/switch_key:
    Shift_L: commit_code
    Shift_R: commit_code

  # è½½å…¥è‡ªå®šä¹‰è¯åº“è¡¨
  "translator/dictionary": oott123_personal

  punctuator:
    import_preset: "luna_pinyin.extended/symbols"
    symbols:
      '/cry': ['ğŸ˜‚', 'ğŸŒš', 'ğŸ˜…']
      '/yy': ['_(:Ğ·ã€âˆ )_', 'âˆ‘(à¹‘Âºå£Âºà¹‘)!!']
    half_shape:
      '{': ['ã€Œ', 'ã€', 'ã€–', 'ï½›']
      '}': ['ã€', 'ã€', 'ã€—', 'ï½']
      '[': {commit: 'ã€'}
      ']': {commit: 'ã€‘'}
      '`': ['`', 'Â·', 'ãƒ»']
      # å»æ‰ä¸€äº›å¸¸ç”¨ç¬¦å·çš„åˆ—è¡¨
      '#': {commit: '#'}
      '*': {commit: '*'}
      '=': {commit: '='}
      '/': {commit: '/'}
      '~': {commit: '~'}
      '@': {commit: '@'}
      '|': {commit: '|'}

  
  "recognizer/patterns/reverse_lookup": "u(b|e)[a-z]*'?$"

  # ç¬”ç”»è¾“å…¥
  "engine/translators/@after 1": reverse_lookup_translator@reverse_lookup_stroke
  reverse_lookup_stroke:
    dictionary: stroke
    enable_completion: true
    prefix: ub
    suffix: "'"
    tips: 'ã€Œç¬”ç”»ã€'
    preedit_format:
      - xlit/hspnz/ä¸€ä¸¨ä¸¿ä¸¶ä¹™/
    comment_format:
      - xform/([nl])v/$1Ã¼/

  # è¡¨æƒ…è¾“å…¥
  "engine/translators/@after 2": reverse_lookup_translator@reverse_lookup_emoji
  reverse_lookup_emoji:
    dictionary: emoji
    enable_completion: true
    prefix: ue
    suffix: "'"
    tips: 'ã€Œè¡¨æƒ…ã€'

  #"engine/translators/@after 3": table_translator@emoji_translator
  #emoji_translator:
  #  dictionary: emoji
  #  enable_completion: false

  # æ¨¡ç³ŠéŸ³: en[g] in[g] z[h]
  "speller/algebra/@after 1": derive/([ei])n$/$1ng/
  "speller/algebra/@after 2": derive/([ei])ng$/$1n/
  "speller/algebra/@after 3": derive/^([z])h/$1/
  "speller/algebra/@after 4": derive/^([z])([^h])/$1h$2/

  ## æ˜æœˆæ‹¼éŸ³æ‰©å……è¯åº“è®¾ç½® ##
  # via <https://github.com/zer4tul/RIME-Extend-Dict/blob/master/luna_pinyin.custom.yaml>
  # è¼‰å…¥æœ™æœˆæ‹¼éŸ³æ“´å……è©åº«
  # "translator/dictionary": luna_pinyin.extended
  
  # æ”¹å¯«æ‹¼å¯«é‹ç®—ï¼Œä½¿å¾—å«è¥¿æ–‡çš„è©å½™ï¼ˆä½æ–¼ luna_pinyin.cn_en.dict.yaml ä¸­ï¼‰ä¸å½±éŸ¿ç°¡æ‹¼åŠŸèƒ½ï¼ˆæ³¨æ„ï¼Œæ­¤åŠŸèƒ½åªé©ç”¨æ–¼æœ™æœˆæ‹¼éŸ³ç³»åˆ—æ–¹æ¡ˆï¼Œä¸é©ç”¨æ–¼å„é¡é›™æ‹¼æ–¹æ¡ˆï¼‰
  # æœ¬æ¢è£œéªåªåœ¨ã€Œå°ç‹¼æ¯« 0.9.30ã€ã€ã€Œé¼ é¬šç®¡ 0.9.25 ã€ã€ã€ŒRime-1.2ã€åŠæ›´é«˜çš„ç‰ˆæœ¬ä¸­èµ·ä½œç”¨ã€‚
  "speller/algebra/@before 0": xform/^([b-df-hj-np-tv-z])$/$1_/
  
  # å¼•å…¥ symbols.yaml æ–‡ä»¶ï¼Œé–‹å•“è¼¸å…¥ç‰¹æ®Šç¬¦è™ŸåŠŸèƒ½ï¼Œå¦‚æœ‰éœ€æ±‚ï¼Œå–æ¶ˆè¨»é‡‹ä¸¦é‡æ–°éƒ¨ç½²å³å¯ã€‚åœ¨Rimeè‡ªå¸¶çš„symbols.yamlçš„åŸºç¤ä¸Šå¢åŠ äº†å°‘é‡å…§å®¹ã€‚
  # å¯è¼¸å…¥çš„å…·é«”å…§å®¹åƒè€ƒsymbols.yaml
  # "punctuator/import_preset": "luna_pinyin.extended/symbols"
  "recognizer/patterns/punct": "^/[a-z]*$"